_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{FCuQ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("o0o1"),i=n.n(r),u=n("nKUr"),a=n("HaE+"),o=n("qoWs"),c=n("z+VO"),s=n("ZIGX");function f(){var e=Object(s.a)().user;function t(){return(t=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.a)("https://azarshiga.ir/gql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.authToken)},body:Object(o.a)("title!","BS!")});case 2:return n=t.sent,t.abrupt("return",null===n||void 0===n?void 0:n.createPost);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),function(){t.apply(this,arguments)}()},children:"add a Post!"})}},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,i,u,a){try{var o=e[u](a),c=o.value}catch(s){return void n(s)}o.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,u){var a=e.apply(t,n);function o(e){r(a,i,u,o,c,"next",e)}function c(e){r(a,i,u,o,c,"throw",e)}o(void 0)}))}}n.d(t,"a",(function(){return i}))},Lpa7:function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return X}));var r=n("q1tI"),i=Object.prototype.hasOwnProperty;function u(e,t,n,r){return new(n||(n=Promise))((function(i,u){function a(e){try{c(r.next(e))}catch(e){u(e)}}function o(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,u,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(u){return function(o){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}}var o={}[0],c=function(e){return e===o},s=function(e){return"function"==typeof e},f=function(){},l=function(e,t){return Object.assign({},e,t)},d=!0,p="undefined"!=typeof window,v="undefined"!=typeof document,h=p&&window.addEventListener||f,b=v&&document.addEventListener||f,g={isOnline:function(){return d},isVisible:function(){var e=v&&document.visibilityState;return!!c(e)||"hidden"!==e}},y={initFocus:function(e){b("visibilitychange",e),h("focus",e)},initReconnect:function(e){h("online",(function(){d=!0,e()})),h("offline",(function(){d=!1}))}},w="undefined"==typeof window||"Deno"in window,O=w?null:window.requestAnimationFrame,m=O?function(e){return O(e)}:function(e){return setTimeout(e,1)},j=w?r.useEffect:r.useLayoutEffect,E="undefined"!=typeof navigator&&navigator.connection,k=!w&&E&&(["slow-2g","2g"].includes(E.effectiveType)||E.saveData),x=new WeakMap,T=0;function S(e){if(s(e))try{e=e()}catch(t){e=""}var t;return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n){var r=e[n],i=o;null===r||"object"!=typeof r&&!s(r)?i=JSON.stringify(r):x.has(r)?i=x.get(r):(i=T,x.set(r,T++)),t+="$"+i}return t}(e)):t=[e=String(e||"")],[e,t,e?"$err$"+e:"",e?"$req$"+e:""]}var P=new WeakMap,I=function(e,t,n,r,i,u){void 0===u&&(u=!1);var a=P.get(e),o=a[0],c=a[1],s=o[t],f=c[t];if(f)for(var l=0;l<f.length;++l)f[l](n,r,i);return u&&s&&s[0]?s[0](2).then((function(){return e.get(t)})):e.get(t)},R=0,V=function(){return++R},C=function(e,t,n,r){return void 0===r&&(r=!0),u(void 0,void 0,void 0,(function(){var i,u,f,l,d,p,v,h,b,g,y;return a(this,(function(a){switch(a.label){case 0:if(i=S(t),u=i[0],f=i[2],!u)return[2];if(l=P.get(e),d=l[2],p=l[3],c(n))return[2,I(e,u,e.get(u),e.get(f),o,r)];if(b=d[u]=V(),p[u]=0,s(n))try{n=n(e.get(u))}catch(e){n=o,h=e}if(!n||!s(n.then))return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n];case 2:return v=a.sent(),[3,4];case 3:return g=a.sent(),h=g,[3,4];case 4:if(b!==d[u]){if(h)throw h;return[2,v]}return[3,6];case 5:v=n,a.label=6;case 6:return c(v)||e.set(u,v),e.set(f,h),p[u]=V(),[4,I(e,u,v,h,o,r)];case 7:if(y=a.sent(),h)throw h;return[2,y]}}))}))};function _(e,t){for(var n in e)e[n][0]&&e[n][0](t)}function q(e,t){if(!P.has(e)){var n=l(y,t),r={},i=C.bind(o,e);return P.set(e,[r,{},{},{},{},{},i]),w||(n.initFocus(_.bind(o,r,0)),n.initReconnect(_.bind(o,r,1))),[e,i]}}var N=q(new Map),z=N[0],F=N[1],L=l({onLoadingSlow:f,onSuccess:f,onError:f,onErrorRetry:function(e,t,n,r,i){if(g.isVisible()){var u=n.errorRetryCount,a=i.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!c(u)&&a>u||setTimeout(r,o,i)}},revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:k?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:k?5e3:3e3,compare:function e(t,n){var r,u;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((u=t.length)===n.length)for(;u--&&e(t[u],n[u]););return-1===u}if(!r||"object"===typeof t){for(r in u=0,t){if(i.call(t,r)&&++u&&!i.call(n,r))return!1;if(!(r in n)||!e(t[r],n[r]))return!1}return Object.keys(n).length===u}}return t!==t&&n!==n},isPaused:function(){return!1},cache:z,mutate:F,fallback:{}},g);function A(e,t){var n=l(e,t);if(!t)return n;var r=e.use,i=e.fallback,u=t.use,a=t.fallback;return r&&u&&(n.use=r.concat(u)),i&&a&&(n.fallback=l(i,a)),n}var $=Object(r.createContext)({});function D(e){return s(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]}var J,W=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},M={dedupe:!0},H=Object.defineProperty((function(e){var t=e.children,n=e.value,i=A(Object(r.useContext)($),n),u=n&&n.provider,a=Object(r.useState)((function(){return u?q(u(i.cache||z),n):o}))[0];return a&&(i.cache=a[0],i.mutate=a[1]),Object(r.createElement)($.Provider,{value:i},t)}),"default",{value:L}),X=(J=function(e,t,n){var i=n.cache,s=n.compare,f=n.fallbackData,d=n.suspense,p=n.revalidateOnMount,v=n.refreshInterval,h=n.refreshWhenHidden,b=n.refreshWhenOffline,g=P.get(i),y=g[0],O=g[1],E=g[2],k=g[3],x=g[4],T=g[5],R=S(e),_=R[0],q=R[1],N=R[2],z=R[3],F=Object(r.useRef)(!1),L=Object(r.useRef)(!1),A=Object(r.useRef)(_),$=Object(r.useRef)(n),D=function(){return $.current},J=i.get(_),H=c(f)?n.fallback[_]:f,X=c(J)?H:J,B=i.get(N);if(d&&(!_||!t))throw new Error("useSWR requires either key or fetcher with suspense mode");var G=function(){return c(p)?d?!F.current&&!c(X):c(X)||n.revalidateIfStale:p},Q=!(!_||!t)&&(!!i.get(z)||!F.current&&G()),U=function(e,t){var n=Object(r.useState)({})[1],i=Object(r.useRef)(e),u=Object(r.useRef)({data:!1,error:!1,isValidating:!1}),a=Object(r.useCallback)((function(e){var r=!1,a=i.current;for(var o in e){var c=o;a[c]!==e[c]&&(a[c]=e[c],u.current[c]&&(r=!0))}r&&!t.current&&n({})}),[]);return j((function(){i.current=e})),[i,u.current,a]}({data:X,error:B,isValidating:Q},L),Z=U[0],K=U[1],Y=U[2],ee=Object(r.useCallback)((function(e){return u(void 0,void 0,void 0,(function(){var r,u,f,l,d,p,v,h,b;return a(this,(function(a){switch(a.label){case 0:if(!_||!t||L.current||D().isPaused())return[2,!1];f=!0,l=e||{},d=!c(x[_])&&l.dedupe,p=function(){return!L.current&&_===A.current&&F.current},v=function(){delete x[_],delete T[_]},a.label=1;case 1:return a.trys.push([1,6,,7]),i.set(z,!0),Y({isValidating:!0}),d||I(i,_,Z.current.data,Z.current.error,!0),d?(u=T[_],[4,x[_]]):[3,3];case 2:return r=a.sent(),[3,5];case 3:return n.loadingTimeout&&!i.get(_)&&setTimeout((function(){f&&p()&&D().onLoadingSlow(_,n)}),n.loadingTimeout),T[_]=u=V(),[4,x[_]=t.apply(t,q)];case 4:r=a.sent(),setTimeout((function(){T[_]===u&&v()}),n.dedupingInterval),p()&&D().onSuccess(r,_,n),a.label=5;case 5:return T[_]!==u?[2,!1]:(i.set(N,o),i.set(z,!1),h={isValidating:!1},!c(E[_])&&(u<=E[_]||u<=k[_]||0===k[_])?(Y(h),[2,!1]):(c(Z.current.error)||(h.error=o),s(Z.current.data,r)||(h.data=r),s(i.get(_),r)||i.set(_,r),Y(h),d||I(i,_,r,h.error,!1),[3,7]));case 6:return b=a.sent(),v(),i.set(z,!1),D().isPaused()?(Y({isValidating:!1}),[2,!1]):(i.set(N,b),Z.current.error!==b&&(Y({isValidating:!1,error:b}),d||I(i,_,o,b,!1)),p()&&(D().onError(b,_,n),n.shouldRetryOnError&&D().onErrorRetry(b,_,n,ee,{retryCount:(l.retryCount||0)+1,dedupe:!0})),[3,7]);case 7:return f=!1,[2,!0]}}))}))}),[_]),te=Object(r.useCallback)((function(e,t){return C(i,A.current,e,t)}),[]);if(j((function(){$.current=n})),j((function(){if(_){var e=F.current,t=ee.bind(o,M),n=function(){return D().isVisible()&&D().isOnline()},r=0,i=W(_,O,(function(e,t,n){Y(l({error:t,isValidating:n},s(e,Z.current.data)?null:{data:e}))})),u=W(_,y,(function(e){if(0===e){var i=Date.now();D().revalidateOnFocus&&i>r&&n()&&(r=i+D().focusThrottleInterval,t())}else if(1===e)D().revalidateOnReconnect&&n()&&t();else if(2===e)return ee()}));return L.current=!1,A.current=_,e&&Y({data:X,error:B,isValidating:Q}),G()&&(c(X)||w?t():m(t)),F.current=!0,function(){L.current=!0,i(),u()}}}),[_,ee]),j((function(){var e;function t(){v&&-1!==e&&(e=setTimeout(n,v))}function n(){Z.current.error||!h&&!D().isVisible()||!b&&!D().isOnline()?t():ee(M).then((function(){return t()}))}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[v,h,b,ee]),Object(r.useDebugValue)(X),d&&c(X))throw c(B)?ee(M):B;return{mutate:te,get data(){return K.data=!0,X},get error(){return K.error=!0,B},get isValidating(){return K.isValidating=!0,Q}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=D(e),i=n[0],u=n[1],a=n[2],o=l(L,Object(r.useContext)($)),c=A(o,a),s=J,f=c.use;if(f)for(var d=f.length;d-- >0;)s=f[d](s);return s(i,u||c.fetcher,c)})},ZIGX:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),i=n("20a2"),u=n.n(i),a=n("Lpa7"),o=n("z+VO");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirectTo,n=void 0===t?"":t,i=e.redirectIfFound,c=void 0!==i&&i,s=Object(a.b)("/api/user",o.a),f=s.data,l=s.error,d=s.mutate;return Object(r.useEffect)((function(){n&&f&&(n&&!c&&(null===f||void 0===f||!f.isLoggedIn)||c&&null!==f&&void 0!==f&&f.isLoggedIn)&&u.a.push(n)}),[f,c,n]),{user:f,mutateUser:d,isLoading:!l&&!f,isError:l}}},qoWs:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n("o0o1"),i=n.n(r),u=n("HaE+"),a="https://azarshiga.ir/gql";function o(e){return c.apply(this,arguments)}function c(){return(c=Object(u.a)(i.a.mark((function e(t){var n,r,u,o,c,s,f,l,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.variables,u=d.length>2&&void 0!==d[2]?d[2]:null,o=null,o=u?{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}:{"Content-Type":"application/json"},e.next=6,fetch(a,{method:"POST",headers:o,body:JSON.stringify({query:t,variables:r})});case 6:return c=e.sent,e.next=9,c.json();case 9:if(!(s=e.sent).errors){e.next=14;break}throw console.log(s.errors),console.log("error details",t,r),new Error("Failed to fetch API");case 14:return f=JSON.stringify(s.data),l=f.replaceAll("https://azarshiga.ir/","/Next.js-SPA-Portfolio/"),e.abrupt("return",JSON.parse(l));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,n,r){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(i.a.mark((function e(t,n,r,u){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("\n    mutation sendFormEmail($input : SendEmailInput!){\n      sendEmail(input : $input){\n        origin\n        sent\n        message\n      }\n    }\n  ",{variables:{input:{body:u,from:t,replyTo:t,subject:n,clientMutationId:r}}});case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.sendEmail);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e,t){var n={input:{title:e,content:t}};return JSON.stringify({query:"\n    mutation createPost($input :CreatePostInput!){\n      createPost(input:$input){\n        post{\n          content\n        }\n      }\n    }\n  ",variables:n})}},"z+VO":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("o0o1"),i=n.n(r),u=n("HaE+");function a(){return o.apply(this,arguments)}function o(){return(o=Object(u.a)(i.a.mark((function e(){var t,n,r,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch.apply(void 0,u);case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,!t.ok){e.next=9;break}return e.abrupt("return",n);case 9:throw(r=new Error(t.statusText)).response=t,r.data=n,r;case 15:throw e.prev=15,e.t0=e.catch(0),e.t0.data||(e.t0.data={message:e.t0.message}),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}},"zl3/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return n("FCuQ")}])}},[["zl3/",0,2,1]]]);